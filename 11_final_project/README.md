> :warning: Порой темные электрические силы мешают GitHub корректно отображать файлы формата `ipynb`. Если такое случилось и в этот раз, то можно просмотреть код проекта в nbviewer.jupyter.org по следующим ссылкам: [часть1](https://nbviewer.jupyter.org/github/konstantin-samsonov/education_praktikum.yandex/blob/master/11_final_project/final-project_01_ab-test.ipynb), [часть2](https://nbviewer.jupyter.org/github/konstantin-samsonov/education_praktikum.yandex/blob/master/11_final_project/final-project_02_sql.ipynb), [часть3](https://nbviewer.jupyter.org/github/konstantin-samsonov/education_praktikum.yandex/blob/master/11_final_project/final-project_03_project.ipynb) 

# Выпускной проект
- чатсть 1 - провести оценку результатов A/B-теста. Оценить корректность проведения теста. Проанализируйте результаты теста
- часть 2 - решить задачи по выгрузке данных средствами SQL
- часть 3 - выделить группы пользователей, которые различаются по метрикам: etention rate, время, проведённое в приложении, частота действий, конверсия в целевое действие — просмотр контактов.

## Часть 1, оценка результатов A/B-теста
### Описание данных
Структура файла __ab_project_marketing_events.csv__:

- `name` — название маркетингового события;
- `regions` — регионы, в которых будет проводиться рекламная кампания;
- `start_dt` — дата начала кампании;
- `finish_dt` — дата завершения кампании.

Структура файла __final_ab_new_users.csv__:

- `user_id` — уникальный идентификатор пользователя;
- `first_date` — дата регистрации;
- `region` — регион, к которому относится пользователь;
- `device` — устройство, с которого происходила регистрация.

Структура файла __final_ab_events.csv__:

- `user_id` — уникальный идентификатор пользователя;
- `event_dt` — дата и время покупки;
- `event_name` — наименование типа события;
- `details` — дополнительные данные о событии. Например, в этом поле хранится стоимость покупки (USD) для события «покупка» (`purchase`);

Структура файла __final_ab_participants.csv__:

- `user_id` — уникальный идентификатор пользователя;
- `ab_test` — название теста;
- `group` — группа, в которой находился пользователь в рамках теста.

### Структура проекта
- Импорт библиотек и загрузка данных
- Предобработка данных
- Исследовательский анализ данных
- Оценка результатов А/В-тестирования

### Итоговый вывод
По итогу всех проделанных манипуляций я прихожу к выводу (это, конечно при условии, что в моих расчетах нет ошибок) о том, что А/В-тест можно считать состоявшимся. Но вот ожидаемого эффекта (прирост конверсий в просмотр карточек товаров) не случилось. Между конверсиями контрольной группы (`А`) и экспериментальной группы (`В`) нет статистически значимой разницы за исключением первого шага воронки (`login` -> `product_page`). Возможно, что здесь сказывается именно разница в количестве пользователей. Или же это отрицательное действие новой рекомендательной системы.

Поэтому я бы не рекомендовал внедрять новую рекомендательную систему на всех пользователей сайта. Скорее всего это повлечет финансовые издержки, а вот ожидаемый результат останется на текущем уровне. 

Возможно стоит более детально исследовать пользовательский опыт с новой рекомендательной системой (вы же все данные логировали, да?) с целью получить новые знания и инсайты. Может быть это позволит открыть новые направления развития рекомендательной системы. 

Также, не могу не упомянуть о вопросах возникших в рамках данного анализа:
- несбалансированность групп А/В-теста может говорить о том, что перед запуском теста небыли проведены соответствующие подготовительные мероприятия (корректное распределение пользователей по группам). Пусть это останется на совести участников данного мероприятия. 
- параллельное проведение двух независимых А/В-тестов осуществлялось с явными техническими проблемами. Считаю, что нужно избегать смешивания пользователей в разных тестах, ведь от этого может измениться пользовательский опыт работы с продуктом, что повлечем искажение результатов А/В-теста. 

## Часть 2, SQL-задачи
### Описание данных
**Таблица `books`**

Содержит данные о книгах:

- `book_id` — идентификатор книги;
- `author_id` — идентификатор автора;
- `title` — название книги;
- `num_pages` — количество страниц;
- `publication_date` — дата публикации книги;
- `publisher_id` — идентификатор издателя.

**Таблица `authors`**

Содержит данные об авторах:

- `author_id` — идентификатор автора;
- `author` — имя автора.

**Таблица `publishers`**

Содержит данные об издательствах:

- `publisher_id` — идентификатор издательства;
- `publisher` — название издательства;

**Таблица `ratings`**

Содержит данные о пользовательских оценках книг:

- `rating_id` — идентификатор оценки;
- `book_id` — идентификатор книги;
- `username` — имя пользователя, оставившего оценку;
- `rating` — оценка книги.

**Таблица `reviews`**

Содержит данные о пользовательских обзорах на книги:

- `review_id` — идентификатор обзора;
- `book_id` — идентификатор книги;
- `username` — имя пользователя, написавшего обзор;
- `text` — текст обзора.

## Часть 3, Выделение групп пользователей на основе поведения
### Описание данных
Датасет **mobile_dataset.csv** содержит колонки:
- `event.time` — время совершения
- `event.name` — название события
- `user.id` — идентификатор пользователя

Датасет **mobile_sources.csv** содержит колонки:
- `userId` — идентификатор пользователя
- `source` — источник, с которого пользователь установил приложение

Расшифровки событий:
- `advert_open` — открытие карточки объявления
- `photos_show` — просмотр фотографий в объявлении
- `tips_show` — пользователь увидел рекомендованные объявления
- `tips_click` — пользователь кликнул по рекомендованному объявлению
- `contacts_show` и `show_contacts` — пользователь нажал на кнопку "посмотреть номер телефона" на карточке объявления
- `contacts_call` — пользователь позвонил по номеру телефона на карточке объявления
- `map` — пользователь открыл карту размещенных объявлений
- `search_1` — `search_7` — разные события, связанные с поиском по сайту
- `favorites_add` — добавление объявления в избранное

### Структура проекта
- Импорт библиотек и загрузка данных
- Предобработка данных
- Исследовательский анализ данных
- Сегментирование пользователей по событиям, Retention Rate
- Проверка статистических гипотез
- Кластеризация пользователей
- Итоговый вывод

### Итоговый вывод
В данном разделе подведу краткие итоги всего анализа предоставленных данных и оформлю основные выводы:
- анализируемый временной диапазон: 2091-10-07 - 2019-11-03 или четыре полные недели.
- исследовательский анализ данных показал, что менее 1% пользователей совершает больше 132 событий в приложении. Такие пользователи были отнесены к категории «аномально-активных» и удалены из дальнейшего анализа. Иначе они вносили бы искажения в последующие результаты. 
- Яндекс привлекает в приложение 45% пользователей. Google 26%. Остальные источники 28%
- по всем имеющимся в данных `event_name` была сделана сегментация пользователей и проанализирован Retention Rate по недельным когортам. События оказывающие положительное влияние на возвращение пользователей в приложение:
    - `photos_show`, `advert_open`, `contacts_show`, `search_1` - `search_7`
- оценка конверсий пользователей в `contacts_show` в зависимости от источника привлечения (yandex/google) не выявила статистически значимой разницы. Пользователи конвертируются одинаково и не важно из какого источника они пришли. 
- Кластеризация пользователей на группы выявила группы лидеры (`1` и `3`) по количеству `contacts_show` на пользователя и группы аутсайдеры (`0` и `2`).  Предположу, что группы лидеры являются ядром целевой аудитории приложения. Этих пользователей мало, но они используют функционал приложения максимально и выполняют столь необходимые нам метрики (`contacts_show`). Я считаю, что необходимо произвести дальнейшие (дополнительные) изыскания по сформированным группам и попытаться найти ответ на вопрос - как мотивировать пользователей из группы `0` становиться такими же активными, как пользователи в группе `1` или `3`.